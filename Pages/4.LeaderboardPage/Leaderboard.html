<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="../../global.css" />
    <link rel="stylesheet" href="./LeaderIndex.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap"
    />
  </head>
  <body>
    <div class="foreground">
      <div class="headingText">Leaderboards</div>
      <button class="button1" id="soloBoard">Personal</button>
      <button class="button2" id="globalBoard">Global</button>
      <div class="LeaderPlaceholder">
        <table class="content-table", id="wowTable">
          <thead>
          <tr>
            <th>Rank</th>
            <th>Name</th>
            <th>Difficulty</th>
            <th>Correct</th>
            <th>Accuracy</th>
          </tr>
          </thead>
          <!-- <tbody>
          <tr>
            <td>1</td>
            <td>Miggie</td>
            <td>Easy</td>
            <td>5/5</td>
            <td>100.00</td>
            <td></td>
          </tr>
          </tbody> -->
        </table>
      </div>
      <img
        class="backButton"
        alt=""
        src="../../Assets/Left-Arrow.svg"
        id="backButton"
      />
    </div>
    <script>
      function populateLeaderBoards(){
        let data = localStorage.getItem('myScores');
        if (!data) {
          } else {
    // Parse the string from localStorage back into an array
          data = JSON.parse(data);
          console.log(data)
        }

        for (let i = 0; i < data.length; i++) {

          document.getElementById('wowTable').innerHTML +=
          "<body><tr> <td>" + (i+1) + "</td> <td>" + data[i]['Name'] +"<t/d> <td>"+data[i]['Difficulty']+
            "</td> <td>"+data[i]['Correct']+"/5</td><td>"+data[i]['Accuracy']+"</td> </tr></tbody>";
      }
    }

      var personalButton = document.getElementById("soloBoard");
      if (personalButton) {
        personalButton.addEventListener("click", function (e) {
          e.target.innerHTML = "Showing!";
         populateLeaderBoards();
         personalButton.disabled = true;
        });
      }

      var globalButton = document.getElementById("globalBoard");
      if (globalButton) {
        globalButton.addEventListener("click", function (e) {
          e.target.innerHTML = "Not Available";
        });
        globalButton.addEventListener("mouseout", function (e) {
          e.target.innerHTML = "Global";
        });
      }
      var vector = document.getElementById("backButton");
      if (vector) {
        vector.addEventListener("click", function (e) {
          window.location.href = "../2.MainPage/MainScreen.html";
        });
      }
    </script>
  </body>
</html>
