<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="../../global.css" />
    <link rel="stylesheet" href="./LeaderIndex.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap"
    />
  </head>
  <body>
    <div class="foreground">
      <div class="headingText" id="Title">Leaderboards</div>
      <button class="button1" id="soloBoard">Personal</button>
      <button class="button2" id="globalBoard">Global</button>
      <div class="LeaderPlaceholder">
        <table class="content-table", id="wowTable">
          <thead>
          <tr>
            <th>Rank</th>
            <th>Name</th>
            <th>Difficulty</th>
            <th>Correct</th>
            <th>Accuracy</th>
          </tr>
          </thead>
          <!-- <tbody>
          <tr>
            <td>1</td>
            <td>Miggie</td>
            <td>Easy</td>
            <td>5/5</td>
            <td>100.00</td>
            <td></td>
          </tr>
          </tbody> -->
        </table>
      </div>
      <img
        class="backButton"
        alt=""
        src="../../Assets/Left-Arrow.svg"
        id="backButton"
      />
    </div>

    <script>
      console.log(localStorage.getItem('textSize'));
      var text_size;
      switch(localStorage.getItem('textSize')){
        case '1':
          text_size = 12 + 'px';
        break;
        
        case '2':
        text_size = 18 + 'px';
        break;
        
        case '3':
        text_size = 24 + 'px';
        break;
        
        default:
        text_size = 18 + 'px';
        break;
      }

      document.getElementById('soloBoard').style.fontSize = text_size;
      document.getElementById('globalBoard').style.fontSize = text_size;
    </script>

<script>
  console.log(localStorage.getItem('fontType'));
  var font_type;
  switch(localStorage.getItem('fontType')){
    case '1':
      font_type = 'Novem'; 
    break;

    case '2':
      font_type = 'Times New Roman, serif';
    break;
  
    default:
      font_type = 'Novem'; 
    break;
  }
  document.getElementById('Title').style.fontFamily = font_type;
  document.getElementById('soloBoard').style.fontFamily = font_type;
  document.getElementById('globalBoard').style.fontFamily = font_type;
  document.getElementById('wowTable').style.fontFamily = font_type;
  
</script>


    <script>
      function populateLeaderBoards(){
        let data = localStorage.getItem('myScores');
        if (!data) {
          } else {
    // Parse the string from localStorage back into an array
          data = JSON.parse(data);
          console.log(data)
        }

        for (let i = 0; i < data.length; i++) {

          document.getElementById('wowTable').innerHTML +=
          "<body><tr> <td>" + (i+1) + "</td> <td>" + data[i]['Name'] +"<t/d> <td>"+data[i]['Difficulty']+
            "</td> <td>"+data[i]['Correct']+"/5</td><td>"+data[i]['Accuracy']+"</td> </tr></tbody>";
      }
    }

      var personalButton = document.getElementById("soloBoard");
      if (personalButton) {
        personalButton.addEventListener("click", function (e) {
          if(!(localStorage.getItem('myScores')))
          e.target.innerHTML = "No Scores!";
          else{
            e.target.innerHTML = "Showing!";
            populateLeaderBoards();
            personalButton.disabled = true;
        }
        });
      }

      var globalButton = document.getElementById("globalBoard");
      if (globalButton) {
        globalButton.addEventListener("click", function (e) {
          e.target.innerHTML = "Not Available";
        });
        globalButton.addEventListener("mouseout", function (e) {
          e.target.innerHTML = "Global";
        });
      }
      var vector = document.getElementById("backButton");
      if (vector) {
        vector.addEventListener("click", function (e) {
          window.location.href = "../2.MainPage/MainScreen.html";
        });
      }
    </script>
  </body>
</html>
