<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="../../../global.css" />
    <link rel="stylesheet" href="./ResultsIndex.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap"
    />
  </head>
  <body>
    <div class="foreground">
      <div class="headingText">Results</div>
      <img class="hintIcon" id="hintIcon" src="../../../Assets/Info_alt_duotone.svg" />
      <button class="button1" id="submitUser">Register</button>
      <button class="button2" id="retryButton">Play Again</button>
      <button class="button3" id="chooseDifButton">Select Difficulty</button>
      <button class="button4" id="leaderButton">Leaderboards</button>
      <label class="boxLabel" for="text-Box">Enter Name:</label>
        <input class="textBox" type="text" id="textBox" name=""></input>
      <div class="final-score" id="final">Correct: #/5, Accuracy: ###%</div>
      <img class="home-icon" alt="" src="../../../Assets/Home-Icon.svg" id="home" />
      <div class="infoText" id="hintPHolder" style="display: none;"> user in final version will be able
        to enter a username and have it recorded to their personal leadberboard
      </div>
    </div>

    <script>

      const guessCnt = localStorage.getItem('total-guesses');
      const corGuesses = localStorage.getItem('correct-guesses');
      const gameMode = localStorage.getItem('game-mode')

      console.log(localStorage);

        
      document.getElementById("final").innerHTML = "Correct: " +
      corGuesses + "/5 <br /> Accuracy: " + (corGuesses/guessCnt * 100).toFixed(2) + "%<br /> Difficulty: " +
      gameMode;
        

      const hintIcon = document.getElementById("hintIcon");
        if (hintIcon) {
          hintIcon.addEventListener("mouseover", function (e) {
              document.getElementById("hintPHolder").style.display = 'block';
          });
          hintIcon.addEventListener("mouseout", function (e) {
              document.getElementById("hintPHolder").style.display = 'none';
          }); 
      }

      const regButton = document.getElementById("submitUser");
        if (submitUser) {
          submitUser.addEventListener("mouseover", function (e) {
              document.getElementById("hintPHolder").style.display = 'block';
          });
          submitUser.addEventListener("mouseout", function (e) {
              document.getElementById("hintPHolder").style.display = 'none';
          }); 
      }

      var buttonContainer = document.getElementById("submitUser");
      if (buttonContainer) {
        buttonContainer.addEventListener("click", function (e) {
          e.target.innerHTML = "Saved!"
          buttonContainer.disabled = true;
        });
        
      }
      
      var buttonContainer1 = document.getElementById("retryButton");
      if (buttonContainer1) {
        buttonContainer1.addEventListener("click", function (e) {
          if(gameMode == 'Easy'){
            window.location.href = '../2.Easy/EasyPage1.html';
          }else if (gameMode == 'Medium')
            window.location.href = './3.Medium/MediumPage.html';
          else
            window.location.href = '../4.Hard/HardPage.html';
        });
      }
      
      var buttonContainer2 = document.getElementById("chooseDifButton");
      if (buttonContainer2) {
        buttonContainer2.addEventListener("click", function (e) {
            window.location.href = '../1.ChooseDif/Selection.html'
        });
      }
      
      var buttonContainer3 = document.getElementById("leaderButton");
      if (buttonContainer3) {
        buttonContainer3.addEventListener("click", function (e) {
            window.location.href = '../../4.LeaderboardPage/Leaderboard.html'
        });
      }
      
      var home = document.getElementById("home");
      if (home) {
        home.addEventListener("click", function (e) {
            window.location.href = '../../2.MainPage/MainScreen.html'
        });
      }
      </script>
  </body>
</html>
